{"version":3,"sources":["js/gallery-items.js","js/task.js","index.js"],"names":["preview","original","description","gallery","document","querySelector","createMarkup","createGalleryMarkup","defaultExport","modal","modalBackdrop","closeBtn","currentImage","cards","cardIndex","map","join","onGalleryItemClick","evt","preventDefault","target","classList","contains","add","src","dataset","source","alt","index","window","addEventListener","closeModalOnEscBtnPush","changeImg","closeModal","remove","removeEventListener","code","nextImg","prevImg","currentIndex","Number","length","newImg","insertAdjacentHTML"],"mappings":"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","file":"src.3ba02136.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg\",\n    description: \"Hokkaido Flower\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg\",\n    description: \"Container Haulage Freight\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg\",\n    description: \"Aerial Beach View\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg\",\n    description: \"Flower Blooms\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg\",\n    description: \"Alpine Mountains\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg\",\n    description: \"Mountain Lake Sailing\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg\",\n    description: \"Alpine Spring Meadows\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg\",\n    description: \"Nature Landscape\",\n  },\n  {\n    preview:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg\",\n    original:\n      \"https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg\",\n    description: \"Lighthouse Coast Sea\",\n  },\n];\n","import defaultExport from './gallery-items';\n\nconst gallery = document.querySelector('ul.gallery');\nconst createMarkup = createGalleryMarkup(defaultExport);\nconst modal = document.querySelector('div.lightbox');\nconst modalBackdrop = document.querySelector('div.lightbox__overlay');\nconst closeBtn = document.querySelector('button[data-action=close-lightbox]');\nconst currentImage = document.querySelector('img.lightbox__image');\n\ngallery.insertAdjacentHTML('beforeend', createMarkup);\n\ngallery.addEventListener('click', onGalleryItemClick);\ncloseBtn.addEventListener('click', closeModal);\nmodalBackdrop.addEventListener('click', closeModal);\n\nfunction createGalleryMarkup(cards) {\n  let cardIndex = 1;\n  return cards\n    .map(({ preview, original, description }) => {\n      return `\n    <li class=\"gallery__item\">\n    <a\n      class=\"gallery__link\"\n      href=\"${original}\"\n    >\n      <img\n        class=\"gallery__image\"\n        src=\"${preview}\"\n        data-source=\"${original}\"\n        data-index=\"${cardIndex++}\"\n        alt=\"${description}\"\n      />\n    </a>\n  </li>\n    `;\n    })\n    .join('');\n}\n\nfunction onGalleryItemClick(evt) {\n  evt.preventDefault();\n  const currentItem = evt.target.classList.contains('gallery__image');\n\n  if (!currentItem) {\n    return;\n  }\n\n  modal.classList.add('is-open');\n  currentImage.src = evt.target.dataset.source;\n  currentImage.alt = evt.target.alt;\n  currentImage.dataset.index = evt.target.dataset.index;\n\n  window.addEventListener('keydown', closeModalOnEscBtnPush);\n  window.addEventListener('keydown', changeImg);\n}\n\nfunction closeModal() {\n  modal.classList.remove('is-open');\n  currentImage.src = '';\n  currentImage.alt = '';\n\n  window.removeEventListener('keydown', closeModalOnEscBtnPush);\n  window.removeEventListener('keydown', changeImg);\n}\n\nfunction closeModalOnEscBtnPush(evt) {\n  if (evt.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction changeImg(evt) {\n  const nextImg = evt.code === 'ArrowRight';\n  const prevImg = evt.code === 'ArrowLeft';\n  let currentIndex = Number(currentImage.dataset.index);\n  // console.log(currentIndex);\n  if (nextImg) {\n    if (currentIndex > 0 && currentIndex < defaultExport.length) {\n      currentIndex += 1;\n\n      let newImg = document.querySelector(`img[data-index='${currentIndex}']`);\n      // console.log(newImg);\n      currentImage.src = newImg.dataset.source;\n      currentImage.alt = newImg.alt;\n      currentImage.dataset.index = newImg.dataset.index;\n    } else if (currentIndex === defaultExport.length) {\n      currentIndex = 1;\n      // currentIndex += 1;\n\n      let newImg = document.querySelector(`img[data-index='${currentIndex}']`);\n      // console.log(newImg);\n      currentImage.src = newImg.dataset.source;\n      currentImage.alt = newImg.alt;\n      currentImage.dataset.index = newImg.dataset.index;\n    }\n  } else if (prevImg) {\n    if (currentIndex > 1 && currentIndex <= defaultExport.length) {\n      currentIndex -= 1;\n\n      let newImg = document.querySelector(`img[data-index='${currentIndex}']`);\n      // console.log(newImg);\n      currentImage.src = newImg.dataset.source;\n      currentImage.alt = newImg.alt;\n      currentImage.dataset.index = newImg.dataset.index;\n    } else if (currentIndex === 1) {\n      currentIndex = defaultExport.length;\n      // currentIndex -= 1;\n\n      let newImg = document.querySelector(`img[data-index='${currentIndex}']`);\n      // console.log(newImg);\n      currentImage.src = newImg.dataset.source;\n      currentImage.alt = newImg.alt;\n      currentImage.dataset.index = newImg.dataset.index;\n    }\n  }\n}\n","import './sass/main.scss';\nimport './js/gallery-items.js';\nimport './js/task.js';\n"]}